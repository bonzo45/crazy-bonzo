<!doctype html>

<html>

<link rel="stylesheet" type="text/css" href="styles.css"/>

<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js"></script>

<script>

$(document).ready(function(){
  $("#home").hide();
  $("#work").hide();  
  $("#home").fadeTo("slow", 1);
  
  // Toggle Home/Work
  $("#sign_to_work").click(toggle_screens);
  $("#poster").click(toggle_screens);
  $("#sams_garage").click(toggle_garage);
  $("#bunker_trapdoor").click(toggle_trapdoor);
  $("#harmonica_image").click(toggle_harmonica);
  
  // Countdowns
  update_timers();
  setInterval(update_timers, 60000);
  
  // Steam
  $.getJSON("steam.php", function(data) {
    $.each(data.response.games, function(index, value) {
      $(".steam_image").last().after("<img class='steam_image' src='http://media.steampowered.com/steamcommunity/public/images/apps/" + value.appid + "/" + value.img_logo_url + ".jpg'></img>");
    });
  });
})

var toggle_screens = function() {
  $("#main_black").fadeTo("slow", 0, function() {
    $("#home").toggle(0);
    $("#work").toggle(0, function() {
      $("#main_black").fadeTo("slow", 1);
    });  
  });
}

var garage_open = false;

var toggle_garage = function() {
  if (garage_open) {    
    $("#garage_door").addClass("garage_closed");
    $("#garage_door").removeClass("garage_open");
  }
  else {
    $("#garage_door").addClass("garage_open");
    $("#garage_door").removeClass("garage_closed");
  }
  
  garage_open = ! garage_open;
}

var harmonica_open = false;

var toggle_harmonica = function() {
  if (harmonica_open) {    
    $("#harmonica_links").addClass("harmonica_closed");
    $("#harmonica_links").removeClass("harmonica_open");
  }
  else {
    $("#harmonica_links").addClass("harmonica_open");
    $("#harmonica_links").removeClass("harmonica_closed");
  }
  
  harmonica_open = ! harmonica_open;
}

var trapdoor_open = false;

var toggle_trapdoor = function() {
  if (trapdoor_open) {  
    $("#bunker_trapdoor").addClass("trapdoor_closed");
    $("#bunker_trapdoor").removeClass("trapdoor_open");
  }
  else {
    $("#bunker_trapdoor").addClass("trapdoor_open");
    $("#bunker_trapdoor").removeClass("trapdoor_closed");
  }
  trapdoor_open = ! trapdoor_open;  
}

var update_timers = function() {     
  $("#got_days").empty();
  $("#f1_days").empty();
  $("#got_days").append("<h1>" + days_until(next_game_of_thrones()) + "</h1> Days");
  $("#f1_days").append("<h1>" + days_until(next_f1()) + "</h1> Days");
}

var days_until = function(then) {
  if (then == null) {
    return "\u2639";
  }
  var now = new Date();
  var diff_ms = then - now;
  var diff_days = diff_ms / (1000 * 60 * 60 * 24);
  return pad(Math.floor(diff_days));
}

var next_game_of_thrones = function() {
  var next_date = new Date("04/07/2014 21:00");
  var today = new Date();
  
  // Go through each of the episodes.
  for (var i = 2; i <= 11; i++) {
    if (today < next_date) {
      return next_date;
    }
    
    // Each episode is 7 days later
    next_date.setDate(next_date.getDate() + 7);
    // The eighth episode is delayed an extra week.
    if (i == 8) {
      next_date.setDate(next_date.getDate() + 7);
    }
  }  
  return null;
}

var next_f1 = function() {
  var f1_races = new Array();
  f1_races[0] = new Date("03/16/2014");
  f1_races[1] = new Date("03/30/2014");
  f1_races[2] = new Date("04/06/2014");
  f1_races[3] = new Date("04/20/2014");
  f1_races[4] = new Date("05/11/2014");
  f1_races[5] = new Date("05/25/2014");
  f1_races[6] = new Date("06/08/2014");
  f1_races[7] = new Date("06/22/2014");
  f1_races[8] = new Date("07/06/2014");
  f1_races[9] = new Date("07/20/2014");
  f1_races[10] = new Date("07/27/2014");
  f1_races[11] = new Date("08/24/2014");
  f1_races[12] = new Date("09/07/2014");
  f1_races[13] = new Date("09/21/2014");
  f1_races[14] = new Date("10/05/2014");
  f1_races[15] = new Date("10/12/2014");
  f1_races[16] = new Date("11/02/2014");
  f1_races[17] = new Date("11/09/2014");
  f1_races[18] = new Date("11/23/2014");
  
  var today = new Date();
  
  for (var i = 0; i < f1_races.length; i++) {
    if (today < f1_races[i]) {
      return f1_races[i];
    }
  }
  
  return null;
}

var pad = function(number) {
  var string = "" + number;
  if (string.length == 1) {
    return "0" + string;
  }
  
  return string;
}

</script>

  <head>
    <title>crazy-bonzo</title>
  </head>
  
  <body>
    <div id="main">
    <div id="main_black">      
      <div id="home" class="main_inner">      
        <div id="sky"></div>
        <div id="mountain_central" class="central">
          <div id="mountain">
            <img class="shadowed" style="width:350px;" src="images/mountain.png"></img>
          </div>
        </div>
        <div id="upper_bank" class="bank">
          <div id="upper_bank_central" class="central">
            <div id="sams_sign">
              <img class="shadowed" style="width:150px;" src="images/sign.png"></img>
            </div>
            <div id="bike">
              <img class="shadowed" style="width:110px;" src="images/bike.png"></img>
            </div>
            <div id="tree">
              <img class="shadowed" style="width:200px;" src="images/big_tree.png"></img>
            </div>
            <div id="smoke1" class="smoke">
              <img class="shadowed" style="width:40px;" src="images/smoke.png"></img>
            </div>
            <div id="smoke2" class="smoke">
              <img class="shadowed" style="width:20px;" src="images/smoke.png"></img>
            </div>
            <div id="smoke3" class="smoke">
              <img class="shadowed" style="width:20px;" src="images/smoke.png"></img>
            </div>
            <div id="smoke4" class="smoke">
              <img class="shadowed" style="width:40px;" src="images/smoke.png"></img>
            </div>
            <div id="smoke5" class="smoke">
              <img class="shadowed" style="width:20px;" src="images/smoke.png"></img>
            </div>
            <div id="smoke6" class="smoke">
              <img class="shadowed" style="width:20px;" src="images/smoke.png"></img>
            </div>
            <div id="sams_house">
              <img class="shadowed" style="width:400px;" src="images/house.png"></img>
            </div>
            <div id="sams_garage">
              <img class="shadowed" style="width:300px;" src="images/garage.png"></img>
            </div>            
            <div id="garage_door">
              <img class="shadowed" style="height:100%; width: 100%;" src="images/garage_door.png"></img>
            </div>
          </div>
        </div>
        <div id="river"></div>        
        <div id="lower_bank" class="bank">
          <div id="lower_bank_central" class="central">
          
            <div id="nest_sign">
              <img class="shadowed" style="width:300px;" src="images/nest_sign.png"></img>
            </div>
            <div id="nest">
              <div id="nest_inner">
                <div id="nest_list">
                  <a href="https://cate.doc.ic.ac.uk" target="_blank"><div class="nest_item"><img class="nest_thumb" src="images/icons/cate.png"></img></div></a><!--
               --><div class="separator invisible"></div><!--
               --><a href="http://www.doc.ic.ac.uk/~ms6611/table/3" target="_blank"><div class="nest_item"><img class="nest_thumb" src="images/icons/calendar.png"></img></div></a><!--
               --><div class="separator invisible"></div><!--
               --><a href="https://gitlab.doc.ic.ac.uk/" target="_blank"><div class="nest_item"><img class="nest_thumb" src="images/icons/gitlab.png"></img></div></a><!--
               --><div class="separator"></div><!--
               --><a href="http://www.facebook.com/bonzo45" target="_blank"><div class="nest_item"><img class="nest_thumb" src="images/icons/facebook.png"></img></div></a><!--
               --><div class="separator invisible"></div><!--
               --><a href="http://www.twitter.com/bonzo450" target="_blank"><div class="nest_item"><img class="nest_thumb" src="images/icons/twitter.png"></img></div></a><!--
               --><div class="separator invisible"></div><!--
               --><a href="https://plus.google.com/u/0/+SamEsgate/" target="_blank"><div class="nest_item"><img class="nest_thumb" src="images/icons/g+.png"></img></div></a><!--
               --><div class="separator"></div><!--
               --><a href="http://www.youtube.com/user/Bonzo450/videos" target="_blank"><div class="nest_item"><img class="nest_thumb" src="images/icons/youtube.png"></img></div></a><!--
               --><div class="separator invisible"></div><!--
               --><a href="http://www.bbc.co.uk/news" target="_blank"><div class="nest_item"><img class="nest_thumb" src="images/icons/bbc.png"></img></div></a><!--
               --><div class="separator"></div><!--
               --><a href="https://customer.heartinternet.co.uk/manage/manage.cgi/hosting" target="_blank"><div class="nest_item"><img class="nest_thumb" src="images/icons/heart internet.png"></img></div></a><!--
               --><div class="separator invisible"></div><!--
               --><a href="http://www.w3schools.com/tags/ref_colorpicker.asp" target="_blank"><div class="nest_item"><img class="nest_thumb" src="images/icons/colour picker.png"></img></div></a><!--
               --><div class="separator invisible"></div>
                </div>
                <div id="nest_grass"></div>
              </div>
            </div>
            
          </div>          
        </div>
        <div id="lawn">
          <div id="lawn_central" class="central">
            
            <div id="bonzo_div">
              <img id="bonzo" src="images/bonzo_transparent.png" style="height: 100%;" alt="Bonzo"><img>
            </div>
            <div id="got">
              <a href="http://www.hbo.com/game-of-thrones" target="_blank"><img src="images/Game of Thrones.jpg" style="width:100%;"></img></a>
              <div id="got_days"></div>
            </div>
            <div id="f1">
              <a href="http://www.formula1.com/" target="_blank"><img src="images/Formula 1.png" style="width:100%;"></img></a>
              <div id="f1_days"></div>
            </div>
            
            <div id="harmonica">
              <img id="harmonica_image" src="images/harmonica.png" style="width:100%;" alt="Harmonica"></img>
              <div id="harmonica_links">
                <div class="harp_tab">
                  <a href="http://www.harptabs.com/song.php?ID=164" target="_blank"><img src="images/harp/freewheelin.jpg" style="width:100%;"></img></a>
                </div><!--
             --><div class="harp_tab">
                  <a href="http://www.harptabs.com/song.php?ID=95" target="_blank"><img src="images/harp/bringing.jpg" style="width:100%;"></img></a>
                </div><!--
             --><div class="harp_tab">
                  <a href="http://www.harptabs.com/song.php?ID=597" target="_blank"><img src="images/harp/jurassic.jpg" style="width:100%;"></img></a>
                </div><!--
             --><div class="harp_tab">
                  <a href="http://www.harptabs.com/song.php?ID=16611" target="_blank"><img src="images/harp/lotr.jpg" style="width:100%;"></img></a>
                </div><!--
             --><div class="harp_tab">
                  <a href="http://www.harptabs.com/song.php?ID=16804" target="_blank"><img src="images/harp/pirates.jpg" style="width:100%;"></img></a>
                </div><!--
             --><div class="harp_tab">
                  <a href="http://www.harptabs.com/song.php?ID=3500" target="_blank"><img src="images/harp/beyond.jpg" style="width:100%;"></img></a>
                </div><!--
             --><div class="harp_tab">
                  <a href="http://www.harptabs.com/song.php?ID=1299" target="_blank"><img src="images/harp/hallelujah.jpg" style="width:100%;"></img></a>
                </div><!--
             --><div class="harp_tab">
                  <a href="http://www.harptabs.com/song.php?ID=7104" target="_blank"><img src="images/harp/brother.jpg" style="width:100%;"></img></a>
                </div><!--
             --><div class="harp_tab">
                  <a href="http://www.harptabs.com/song.php?ID=16166" target="_blank"><img src="images/harp/cheers.jpg" style="width:100%;"></img></a>
                </div>
              </div>
            </div>
          </div>
        </div>
        <div id="lawn_edge"></div>
        <div id="underground">
          <div id="chamber">
            <div id="bunker_floor1">
            </div>
            
            <div id="bunker_floor2">
            </div>
            
            <div id="bunker_trapdoor">
              <div id="bunker_trapdoor_panel"></div>
            </div>
            
            <div id="bunker_under_floor">
            
              <div id="steam_stats">
                <img class="steam_image" src="images/steam_banner.png" alt="Steam Banner"></img>
              </div>
              
              <div id="box1" class="crate">
                <a href="http://steamcommunity.com/id/bonzo45" target="_target" alt="Steam">
                    <img class="box_icon" src="images/icons/steam.png">
                </a>
              </div>
            
              <div id="box2" class="crate">
                <a href="http://open.spotify.com/user/bonzo45" target="_blank" alt="Spotify">
                  <img class="box_icon" src="images/icons/spotify.png">
                </a>
              </div>
            </div>
          </div>
      </div>      
      
      <div id="work" class="main_inner">
        <div id="bunker_left">
          <div id="bunker_left_ceiling">
          </div>
          
          <div id="bunker_left_tunnel">

          </div>
          
          <div id="bunker_left_ground">
          </div>
        </div>

        <div id="bunker_container">
          <div id="bunker">
            <div id="bunker_stairs">
            </div>
            
            <div id="bunker_under_stairs">
            </div>
            
            <div id="bunker_ceiling">
              <img src="images/ceiling.png" alt="Ceiling" style="width:100%; height:100%;"></img>
            </div>
            
            <div id="todo">
              <div id="todo_left">
                <h1>// TODO:</h1>
                <ul>
                  <li>
                    Get Exocet IVA Ready
                    <hr>
                    <img style="width:180px; height:80px;" src="images/exocet.jpg"></img>
                  </li>
                  <li>
                    Learn WebGL
                    <hr>
                    <img style="width:80px; height:80px;" src="images/earth.png"></img>
                  </li>
                </ul>
              </div>
              
              <div id="todo_right">                
                <h1>Courses</h1>
                
              </div>

            </div>
          
            <img id="poster" src="images/Game of Bonzo.jpg" alt="Game of Bonzo"></img>
            
            <a id="cv" href="files/Sam Esgate - CV.pdf"><img src="images/cv.png" alt="CV" style="width:100%; height:100%;"></img></a>
            
            <img id="monitors" src="images/monitors.png" alt="Monitors"></img>
            
            <img id="rspeaker" class="speaker" src="images/speaker.png" alt="Right Speaker"></img>
            
            <img id="lspeaker" class="speaker" src="images/speaker.png" alt="Left Speaker"></img>

            <img id="desktop" src="images/desktop.png" alt="Desktop"></img>
            
            <img id="bench" src="images/bench.png" alt="Bench"></img>
            
            <div id="bunker_floor1">
            </div>
            
            <div id="bunker_floor2">
            </div>
            
            <div id="bunker_trapdoor">
              <img src="images/trapdoor.png" alt="Trapdoor" style="width:100%; height:100%;"></img>
            </div>
            
            <div id="bunker_under_floor">
            
              <div id="steam_stats">
                <img class="steam_image" src="images/steam_banner.png" alt="Steam Banner"></img>
              </div>
              
              <div id="box1">
                <a href="http://steamcommunity.com/id/bonzo45" target="_target" alt="Steam">
                  <div class="crate">
                    <img class="box_icon" src="images/icons/steam.png">
                  </div>
                </a>
              </div>
            
              <div id="box2">
                <a href="http://open.spotify.com/user/bonzo45" target="_blank" alt="Spotify">
                  <div class="crate">
                    <img class="box_icon" src="images/icons/spotify.png">
                  </div>
                </a>
              </div>
            </div>
          </div>
        </div>
        
        <div id="bunker_right">
        </div>
        
      </div>
    </div>
    </div>  
  </body>
</html>